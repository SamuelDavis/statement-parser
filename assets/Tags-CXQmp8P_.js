import{m as T,k as D,t as n,l as F,i as t,b as S,c as r,S as w,h as k,F as I,d as P}from"./index-Dt_LWpRi.js";import{D as V}from"./DataList-CuiAIwAq.js";import{T as H}from"./TransactionsTable-O9_4x2N6.js";import{p as M,t as v,d as N}from"./state-BVGeHIDH.js";import{a as R,c as j}from"./types-qmVODdHK.js";import{T as z}from"./TransactionsSummary-uGa4JxE-.js";import"./components-JLqK3Spt.js";var A=n("<i>");function $(a){a=T({role:a.onClick?"button":void 0,title:a.type},a);const[d,p]=D(a,["type","classList"]),g=()=>({...d.classList??{},"material-icons":!0});return(()=>{var e=A();return F(e,T({get classList(){return g()}},p),!1,!0),t(e,()=>d.type),e})()}var B=n("<article><header><h1>Tags</h1><input type=search name=search placeholder=search list=tag-values>"),G=n("<p>No tags available."),J=n("<form><fieldset role=group><button type=submit></button><input type=text name=value required>"),K=n("<article><header><q></q></header><details><summary>"),O=n("<h2><span>");function te(){const[a,d]=M(S(""),{key:"q",driver:"query"}),p=()=>{const e=a(),i=v.get();return e?i.filter(f=>f.value.match(e)):i};function g(e){d(e.currentTarget.value)}return(()=>{var e=B(),i=e.firstChild,f=i.firstChild,_=f.nextSibling;return _.$$input=g,t(i,r(V,{id:"tag-values",get options(){return v.getValues()}}),null),t(e,r(I,{get each(){return p()},get fallback(){return G()},children:l=>{const[x,h]=S(!1),b=N.findTransactions({matching:l.regexp});function L(o){o.preventDefault();const u=new FormData(o.currentTarget).get("value")?.toString();R(j,u),v.changeValue(l,{...l,value:u}),h(!1)}return(()=>{var o=K(),m=o.firstChild,u=m.firstChild,y=m.nextSibling,q=y.firstChild;return t(m,r(w,{get when(){return x()},get fallback(){return(()=>{var s=O(),c=s.firstChild;return t(s,r($,{type:"edit",onClick:[h,!0]}),c),t(c,()=>l.value),s})()},get children(){var s=J(),c=s.firstChild,C=c.firstChild,E=C.nextSibling;return s.addEventListener("submit",L),t(C,r($,{type:"check"})),t(c,r($,{type:"close",onClick:[h,!1]}),null),k(()=>E.value=l.value),s}}),u),t(u,()=>l.regexp.source),t(q,r(z,{transactions:b})),t(y,r(H,{transactions:b}),null),o})()}}),null),k(()=>_.value=a()),e})()}P(["input"]);export{te as default};
