import{b as q,t as b,i as n,c as a,S as D,h as R,d as U}from"./index-B-LCzFF1.js";import{D as S}from"./DataList-C4by40us.js";import{T as $}from"./TransactionsTable-BRWr2LNH.js";import{p as L,t as u,c as d,d as T}from"./state-D5bAzO03.js";import{F as _}from"./types-qmVODdHK.js";import"./components-BJB6fsCq.js";var k=b("<article><h1>Tagging</h1><section><h2>Search & Tag Transactions</h2><form><fieldset role=group><input placeholder=search type=search name=search list=tag-sources required><input placeholder=tag... type=text name=text list=tag-values required><input type=submit></fieldset></form></section><hr><section><h2>Transactions"),I=b("<aside><h3>Next Untagged Transaction");function G(){const[h,p]=L(q(""),{key:"q",driver:"query"}),o=()=>d(new RegExp(h(),_)),v=()=>T.getTransactions({matching:o()}),f=()=>T.getUntaggedTransactions()[0];function C(t){t.preventDefault();const i=new FormData(t.currentTarget),r=d(i.get("search")?.toString()),s=d(i.get("text")?.toString());if(!r||!s)return;const e={regexp:new RegExp(r,_),value:s};if(!f().description.match(e.regexp)){alert("Search not found in transaction description.");return}u.add(e),p(""),t.currentTarget.reset()}function y(t){p(t.currentTarget.value)}return(()=>{var t=k(),i=t.firstChild,r=i.nextSibling,s=r.firstChild,e=s.nextSibling,l=e.firstChild,g=l.firstChild,m=g.nextSibling,w=m.nextSibling,E=r.nextSibling,x=E.nextSibling;return x.firstChild,e.addEventListener("submit",C),g.$$input=y,n(l,a(S,{id:"tag-sources",get options(){return u.getSources()}}),m),n(l,a(S,{id:"tag-values",get options(){return u.getValues()}}),w),n(e,a(D,{get when(){return f()},children:F=>(()=>{var c=I();return c.firstChild,n(c,a($,{get highlight(){return o()},get transactions(){return[F()]}}),null),c})()}),null),n(x,a($,{controls:!0,get highlight(){return o()},get transactions(){return v()},tags:!0}),null),R(()=>g.value=h()),t})()}U(["input"]);export{G as default};
