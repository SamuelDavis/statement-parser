import{b as D,t as v,i as a,c as i,S as R,h as U,d as k}from"./index-HWEJQZVc.js";import{D as b}from"./DataList-CXnxzQU_.js";import{T as $}from"./TransactionsTable-JFEk0mUL.js";import{p as L,t as p,b as d,d as _}from"./HTMLNumber-sxFt6k7K.js";import{F as T}from"./types-DLJIS_uM.js";import"./components-BAYL0qZs.js";var I=v("<article><h1>Tagging</h1><section><form><h2>Search & Tag Transactions</h2><label><span>Omit from Calculations</span><input type=checkbox name=ignore></label><fieldset role=group><input placeholder=search type=search name=search list=tag-sources required><input placeholder=tag... type=text name=text list=tag-values required><input type=submit></fieldset></form></section><hr><section><h2>Transactions"),N=v("<aside><h3>Next Untagged Transaction");function G(){const[h,m]=L(D(""),{key:"q",driver:"query"}),o=()=>d(new RegExp(h(),T)),C=()=>_.getTransactions({matching:o()}),f=()=>_.getUntaggedTransactions()[0];function y(t){t.preventDefault();const n=new FormData(t.currentTarget),r=d(n.get("search")?.toString()),e=d(n.get("text")?.toString()),l=n.get("ignore")?.toString()==="on";if(!r||!e)return;const s={regexp:new RegExp(r,T),value:e,ignore:l};if(!f().description.match(s.regexp)){alert("Search not found in transaction description.");return}p.add(s),m(""),t.currentTarget.reset()}function w(t){m(t.currentTarget.value)}return(()=>{var t=I(),n=t.firstChild,r=n.nextSibling,e=r.firstChild,l=e.firstChild,s=l.nextSibling,g=s.nextSibling,c=g.firstChild,x=c.nextSibling,E=x.nextSibling,F=r.nextSibling,S=F.nextSibling;return S.firstChild,e.addEventListener("submit",y),c.$$input=w,a(g,i(b,{id:"tag-sources",get options(){return p.getSources()}}),x),a(g,i(b,{id:"tag-values",get options(){return p.getValues()}}),E),a(e,i(R,{get when(){return f()},children:q=>(()=>{var u=N();return u.firstChild,a(u,i($,{get highlight(){return o()},get transactions(){return[q()]}}),null),u})()}),null),a(S,i($,{controls:!0,get highlight(){return o()},get transactions(){return C()},tags:!0}),null),U(()=>c.value=h()),t})()}k(["input"]);export{G as default};
