import{m as x,k as H,t as s,l as M,i as t,b as k,c as n,S as L,h as _,F as N,d as O}from"./index-HWEJQZVc.js";import{D as R}from"./DataList-CXnxzQU_.js";import{T as j}from"./TransactionsTable-JFEk0mUL.js";import{p as z,t as v,d as A}from"./HTMLNumber-sxFt6k7K.js";import{a as B,c as G}from"./types-DLJIS_uM.js";import"./components-BAYL0qZs.js";var J=s("<i>");function b(r){r=x({role:r.onClick?"button":void 0,title:r.type},r);const[p,h]=H(r,["type","classList"]),m=()=>({...p.classList??{},"material-icons":!0});return(()=>{var e=J();return M(e,x({get classList(){return m()}},h),!1,!0),t(e,()=>p.type),e})()}var K=s("<article><header><h1>Tags</h1><input type=search name=search placeholder=search list=tag-values>"),Q=s("<p>No tags available."),U=s("<form><label><span>Omit from Calculations</span><input type=checkbox name=ignore></label><fieldset role=group><button type=submit></button><input type=text name=value required>"),W=s("<article><header><q></q></header><details><summary>Transactions (<output></output>)"),X=s("<small>(ignored)"),Y=s("<h2><span>");function ne(){const[r,p]=z(k(""),{key:"q",driver:"query"}),h=()=>{const e=r(),o=v.get();return e?o.filter(f=>f.value.match(e)):o};function m(e){p(e.currentTarget.value)}return(()=>{var e=K(),o=e.firstChild,f=o.firstChild,C=f.nextSibling;return C.$$input=m,t(o,n(R,{id:"tag-values",get options(){return v.getValues()}}),null),t(e,n(N,{get each(){return h()},get fallback(){return Q()},children:l=>{const[q,$]=k(!1),S=A.getTransactions({matching:l.regexp});function E(u){u.preventDefault();const i=new FormData(u.currentTarget),c=i.get("value")?.toString(),d=i.get("ignore")?.toString()==="on";B(G,c),v.changeValue(l,{...l,value:c,ignore:d}),$(!1)}return(()=>{var u=W(),i=u.firstChild,c=i.firstChild,d=i.nextSibling,w=d.firstChild,D=w.firstChild,F=D.nextSibling;return t(i,n(L,{get when(){return q()},get fallback(){return(()=>{var a=Y(),g=a.firstChild;return t(a,n(b,{type:"edit",onClick:[$,!0]}),g),t(g,()=>l.value),t(a,n(L,{get when(){return l.ignore},get children(){return X()}}),null),a})()},get children(){var a=U(),g=a.firstChild,I=g.firstChild,P=I.nextSibling,y=g.nextSibling,T=y.firstChild,V=T.nextSibling;return a.addEventListener("submit",E),t(T,n(b,{type:"check"})),t(y,n(b,{type:"close",onClick:[$,!1]}),null),_(()=>P.checked=l.ignore),_(()=>V.value=l.value),a}}),c),t(c,()=>l.regexp.source),t(F,()=>S.length),t(d,n(j,{transactions:S}),null),u})()}}),null),_(()=>C.value=r()),e})()}O(["input"]);export{ne as default};
