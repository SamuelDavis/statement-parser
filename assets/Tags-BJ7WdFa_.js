import{m as S,j as w,t as c,k as I,i as t,b as T,c as s,S as P,h as x,F as V,d as j}from"./index-B-LCzFF1.js";import{D as H}from"./DataList-C4by40us.js";import{T as M}from"./TransactionsTable-BRWr2LNH.js";import{p as R,t as $,d as z}from"./state-D5bAzO03.js";import{a as A,c as B}from"./types-qmVODdHK.js";import"./components-BJB6fsCq.js";var G=c("<i>");function v(r){r=S({role:r.onClick?"button":void 0,title:r.type},r);const[d,p]=w(r,["type","classList"]),h=()=>({...d.classList??{},"material-icons":!0});return(()=>{var e=G();return I(e,S({get classList(){return h()}},p),!1,!0),t(e,()=>d.type),e})()}var J=c("<article><header><h1>Tags</h1><input type=search name=search placeholder=search list=tag-values>"),K=c("<form><fieldset role=group><button type=submit></button><input type=text name=value required>"),N=c("<article><header><q></q></header><details><summary>Transactions (<output></output>)"),O=c("<h2><span>");function ee(){const[r,d]=R(T(""),{key:"q",driver:"query"}),p=()=>{const e=r(),l=$.get();return e?l.filter(f=>f.value.match(e)):l};function h(e){d(e.currentTarget.value)}return(()=>{var e=J(),l=e.firstChild,f=l.firstChild,_=f.nextSibling;return _.$$input=h,t(l,s(H,{id:"tag-values",get options(){return $.getValues()}}),null),t(e,s(V,{get each(){return p()},children:n=>{const[k,m]=T(!1),C=z.getTransactions({matching:n.regexp});function L(i){i.preventDefault();const u=new FormData(i.currentTarget).get("value")?.toString();A(B,u),$.changeValue(n,u),m(!1)}return(()=>{var i=N(),g=i.firstChild,u=g.firstChild,b=g.nextSibling,q=b.firstChild,E=q.firstChild,D=E.nextSibling;return t(g,s(P,{get when(){return k()},get fallback(){return(()=>{var a=O(),o=a.firstChild;return t(a,s(v,{type:"edit",onClick:[m,!0]}),o),t(o,()=>n.value),a})()},get children(){var a=K(),o=a.firstChild,y=o.firstChild,F=y.nextSibling;return a.addEventListener("submit",L),t(y,s(v,{type:"check"})),t(o,s(v,{type:"close",onClick:[m,!1]}),null),x(()=>F.value=n.value),a}}),u),t(u,()=>n.regexp.source),t(D,()=>C.length),t(b,s(M,{transactions:C}),null),i})()}}),null),x(()=>_.value=r()),e})()}j(["input"]);export{ee as default};
