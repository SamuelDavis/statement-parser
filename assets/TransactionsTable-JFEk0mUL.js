import{k as E,t as g,l as q,i as e,c as r,F as f,b as z,S as y,h as S,s as T,d as B}from"./index-HWEJQZVc.js";import{a as L,t as k,H as w,b as G}from"./HTMLNumber-sxFt6k7K.js";import{d as I,e as K,t as _}from"./types-DLJIS_uM.js";import{A as Q}from"./components-BAYL0qZs.js";var V=g("<span>"),W=g("<mark>");function O(u){const[n,o]=E(u,["value","mark"]),p=()=>I(n.value)?n.value:O.parseMatches(n.value,n.mark);return(()=>{var c=V();return q(c,o,!1,!0),e(c,r(f,{get each(){return p()},children:s=>s.match?(()=>{var d=W();return e(d,()=>s.text),d})():s.text})),c})()}O.parseMatches=(u,n)=>{const o=[];if(K(n)){const p=u.matchAll(n);let c=0;for(const{0:{length:s},index:d}of p){const h=d+s;o.push({match:!1,text:u.slice(c,d)}),o.push({match:!0,text:u.slice(d,h)}),c=h}c<u.length&&o.push({match:!1,text:u.slice(c)})}else o.push({match:!1,text:u});return o};var X=g("<p>No transactions available."),Y=g("<thead><tr><th><details open><summary>Options</summary><label><input type=checkbox><span>Untagged Only"),Z=g("<table><thead><tr><th><p><output></output> transactions with a value of <!> from <!> to <!>.</p></th></tr><tr></tr></thead><tbody>"),ee=g("<th>"),te=g("<tr>"),M=g("<td>"),re=g("<tr><td><ul>"),ne=g("<li>");function ue(u){const[n,o]=E(u,["transactions","controls","highlight","tags"]),[p,c]=z(!1),s=()=>p()?n.transactions.filter($=>!k.get().some(v=>$.description.match(v.regexp))):n.transactions;function d(h){c(h.currentTarget.checked)}return s().length===0?X():(()=>{var h=Z(),$=h.firstChild,v=$.firstChild,N=v.firstChild,b=N.firstChild,A=b.firstChild,D=A.nextSibling,F=D.nextSibling,J=F.nextSibling,H=J.nextSibling,P=H.nextSibling,U=P.nextSibling;U.nextSibling;var R=v.nextSibling,j=$.nextSibling;return q(h,o,!1,!0),e(h,r(y,{get when(){return n.controls},get children(){var l=Y(),t=l.firstChild,i=t.firstChild,a=i.firstChild,C=a.firstChild,x=C.nextSibling,m=x.firstChild;return m.$$input=d,S(()=>T(i,"colspan",_.length)),S(()=>m.checked=p()),l}}),$),e(A,()=>s().length),e(b,r(L,{get value(){return s().filter(l=>{const t=k.matching(l);return t.length===0||t.some(i=>!i.ignore)}).reduce((l,t)=>l+t.amount,0)}}),F),e(b,r(w,{get value(){return s().slice(-1)[0].date}}),H),e(b,r(w,{get value(){return s()[0].date}}),U),e(R,r(f,{each:_,children:l=>(()=>{var t=ee();return e(t,l),t})()})),e(j,r(f,{get each(){return s()},children:l=>[(()=>{var t=te();return e(t,r(f,{each:_,children:i=>{switch(i){case"date":return(()=>{var a=M();return e(a,r(w,{get value(){return l[i]}})),a})();case"description":return(()=>{var a=M();return e(a,r(O,{get value(){return l[i]},get mark(){return n.highlight}})),a})();case"amount":return(()=>{var a=M();return e(a,r(L,{get value(){return l[i]}})),a})()}}})),t})(),r(y,{get when(){return n.tags},get children(){return r(y,{get when(){return G(k.matching(l))},children:t=>t().length>0&&(()=>{var i=re(),a=i.firstChild,C=a.firstChild;return e(C,r(f,{get each(){return t()},children:x=>(()=>{var m=ne();return e(m,r(Q,{get href(){return`/tags?q=${JSON.stringify(x.value)}`},get children(){return x.value}})),m})()})),S(()=>T(a,"colspan",_.length)),i})()})}})]})),S(()=>T(N,"colspan",_.length)),h})()}B(["input"]);export{ue as T};
